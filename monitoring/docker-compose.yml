services:
  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - ./prometheus_data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
    ports:
      - '9090:9090'
    restart: unless-stopped

  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    volumes:
      - ./grafana_data:/var/lib/grafana
    restart: unless-stopped
    # environment:
    #   GF_SECURITY_ADMIN_PASSWORD: pass
    # adminadmin
    depends_on:
      - prometheus
    ports:
      - '3000:3000'
# services:
#   prometheus:
#     image: prom/prometheus:latest
#     container_name: prometheus
#     volumes:
#       - ./prometheus.yml:/etc/prometheus/prometheus.yml
#       - prometheus-data:/prometheus
#     command:
#       - '--config.file=/etc/prometheus/prometheus.yml'
#     restart: unless-stopped
#     network_mode: host  # Allow access to MacOS metrics

#   grafana:
#     image: grafana/grafana:latest
#     container_name: grafana
#     volumes:
#       - grafana-data:/var/lib/grafana
#     ports:
#       - "3000:3000"  # Expose Grafana UI
#     restart: unless-stopped

# volumes:
#   prometheus-data:
#   grafana-data: